{
  "metadata": {
    "id": "tamtaro.sel-only-extended",
    "name": "Extended SEL Only Template",
    "description": "This template includes a modified version of the Standard SEL in the Complete SEL Setup to show slightly more results. It will import and update Excluded + Included + Preferred Stream Expressions, so everything on Stream Expressions page except Ranked Stream Expressions. Nothing else will get overridden in your setup. To make use of the Preferred Stream Expressions, you will need to add Stream Expressions Matched into your Sort Order. Check out some optional SELs on [Github](https://github.com/Tam-Taro/SEL-Filtering-and-Sorting) for you to try. The Extended SEL comes with multiple lines that smartly filter your results when necessary so that your final result page has a complete coverage of quality streams and minimal clutter. Around 20-30 streams should remain after filtering on average, depending on your source availability.",
    "source": "external",
    "author": "Tamtaro",
    "version": "1.4.3",
    "category": "SEL",
    "serviceRequired": false
  },
  "config": {
    "excludedStreamExpressions": [
      "[]",
      "[]",
      "[]",
      "/*G's Low Bitrate*/ negate((isAnime or 'Animation' in genres ? bitrate(streams, 1, '0.67Mbps') : merge(bitrate(quality(resolution(streams, '2160p'), 'Bluray REMUX'), 1, '25Mbps'), bitrate(quality(resolution(streams, '2160p'), 'Bluray'), 1, '13.6Mbps'), bitrate(quality(resolution(streams, '2160p'), 'WEB-DL', 'WEBRip'), 1, '4.6Mbps'), bitrate(quality(resolution(streams, '2160p'), 'HDTV'), 1, '11.33Mbps'), bitrate(quality(resolution(streams, '1080p'), 'Bluray REMUX'), 1, '13.6Mbps'), bitrate(quality(resolution(streams, '1080p'), 'Bluray'), 1, '6.77Mbps'), bitrate(quality(resolution(streams, '1080p'), 'WEB-DL', 'WEBRip'), 1, '1.67Mbps'), bitrate(quality(resolution(streams, '1080p'), 'HDTV'), 1, '4.51Mbps'), bitrate(quality(resolution(streams, '720p'), 'Bluray'), 1, '3.43Mbps'), bitrate(quality(resolution(streams, '720p'), 'WEB-DL', 'WEBRip'), 1, '1.67Mbps'), bitrate(quality(resolution(streams, '720p'), 'HDTV'), 1, '2.28Mbps'), bitrate(streams, 1, '0.67Mbps'))), cached(streams)) > 10 ?  (isAnime or 'Animation' in genres ? bitrate(streams, 1, '0.67Mbps') : merge(bitrate(quality(resolution(streams, '2160p'), 'Bluray REMUX'), 1, '25Mbps'), bitrate(quality(resolution(streams, '2160p'), 'Bluray'), 1, '13.6Mbps'), bitrate(quality(resolution(streams, '2160p'), 'WEB-DL', 'WEBRip'), 1, '4.6Mbps'), bitrate(quality(resolution(streams, '2160p'), 'HDTV'), 1, '11.33Mbps'), bitrate(quality(resolution(streams, '1080p'), 'Bluray REMUX'), 1, '13.6Mbps'), bitrate(quality(resolution(streams, '1080p'), 'Bluray'), 1, '6.77Mbps'), bitrate(quality(resolution(streams, '1080p'), 'WEB-DL', 'WEBRip'), 1, '1.67Mbps'), bitrate(quality(resolution(streams, '1080p'), 'HDTV'), 1, '4.51Mbps'), bitrate(quality(resolution(streams, '720p'), 'Bluray'), 1, '3.43Mbps'), bitrate(quality(resolution(streams, '720p'), 'WEB-DL', 'WEBRip'), 1, '1.67Mbps'), bitrate(quality(resolution(streams, '720p'), 'HDTV'), 1, '2.28Mbps'), bitrate(streams, 1, '0.67Mbps'))) : []",
      "/*ongoingSeasonPacks*/ ( (queryType == 'series' or queryType == 'anime.series') and ongoingSeason and (daysSinceLastAired <-1 or daysUntilNextEpisode >0 )) ? seasonPack(streams, 'onlySeasons') : []",
      "/*Seeders*/ count(seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), 1)) < 5 ? [] :  count(seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), q2(values(merge(type(streams,'p2p'), type(uncached(streams),'debrid')),'seeders')))) > 20? seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), 0, max(1, q2(values(merge(type(streams,'p2p'), type(uncached(streams),'debrid')),'seeders')))) : count(seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), q1(values(merge(type(streams,'p2p'), type(uncached(streams),'debrid')),'seeders')))) > 20? seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), 0, max(1, q1(values(merge(type(streams,'p2p'), type(uncached(streams),'debrid')),'seeders')))) : count(seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), percentile(values(merge(type(streams,'p2p'), type(uncached(streams),'debrid')),'seeders'), 10))) > 20? seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), 0, max(1,percentile(values(merge(type(streams,'p2p'), type(uncached(streams),'debrid')),'seeders'), 10))) : count(seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), 1)) > 5? seeders(merge(type(streams,'p2p'), type(uncached(streams),'debrid')), 0, 1) : []",
      "/*Anime*/ merge(isAnime and (count(quality(resolution(cached(streams), '2160p'), 'Bluray REMUX')) == 0 or count(seadex(resolution(streams, '2160p'))) == 0 or count(negate(regexMatched(resolution(cached(streams), '2160p'),'Bad'), regexMatched(resolution(cached(streams), '2160p')))) == 0 )? negate(merge(library(streams), seadex(streams)), resolution(streams, '2160p')) : [], count(seadex(streams, 'best')) > 1 or count(negate(seadex(streams, 'best'), seadex(streams))) > 1 ? merge(slice(negate(seadex(streams, 'best'), seadex(streams)), 1), slice(seadex(streams, 'best'), 1)) : [])",
      "/*Movie 4k*/ (queryType == 'movie' or queryType == 'anime.movie') and (count(quality(resolution(streams, '1080p'), 'Bluray REMUX')) >= 1) and (count(quality(resolution(streams, '2160p'), 'Bluray REMUX')) == 0) ? merge(     regexMatched(resolution(streams, '2160p'), 'Bad'),     negate(quality(cached(streams), 'Web-DL'), resolution(streams, '2160p'))): []",
      "/*Bad NZBs*/ merge(releaseGroup(type(streams,'usenet', 'stremio-usenet'),'sample'), message(type(streams,'usenet', 'stremio-usenet'),'includes','ðŸš«'))",
      "/*Bad Regex*/ count(negate(regexMatched(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'Bad'),regexMatched(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http')))))) >10? regexMatched(negate(merge(library(streams), seadex(streams)),streams),'Bad'):[]",
      "/*Cached (HQ)*/ merge( slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray REMUX'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray REMUX'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray REMUX'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray REMUX'),'576p','480p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray REMUX'),'Unknown'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray'),'576p','480p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Bluray'),'Unknown'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEB-DL'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEB-DL'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEB-DL'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEB-DL'),'576p','480p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEB-DL'),'Unknown'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEBRip'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEBRip'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEBRip'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEBRip'),'576p','480p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'WEBRip'),'Unknown'), 5))",
      "/*Cached (LQ)*/ merge( slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'HDTV','HDRip'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'DVDRip','HC HD-Rip'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'HDTV','HDRip'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'DVDRip','HC HD-Rip'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'HDTV','HDRip'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'DVDRip','HC HD-Rip'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'HDTV','HDRip','DVDRip','HC HD-Rip'),'576p','480p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'HDTV','HDRip','DVDRip','HC HD-Rip'),'Unknown'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'TC','SCR'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'CAM','TS'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'TC','SCR'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'CAM','TS'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'CAM','TS','TC','SCR'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'CAM','TS','TC','SCR'),'576p','480p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'CAM','TS','TC','SCR'),'Unknown'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Unknown'),'2160p','1440p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Unknown'),'1080p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Unknown'),'720p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Unknown'),'576p','480p'), 5), slice(resolution(quality(negate(library(streams), merge(cached(streams), type(streams,'p2p','http'))),'Unknown'),'Unknown'), 5))",
      "/*Uncached (All)*/ merge( slice(resolution(quality(uncached(streams),'Bluray REMUX'),'2160p','1440p'), 5), slice(resolution(quality(uncached(streams),'Bluray REMUX'),'1080p'), 5), slice(resolution(quality(uncached(streams),'Bluray REMUX'),'720p'), 5), slice(resolution(quality(uncached(streams),'Bluray REMUX'),'576p','480p'), 5), slice(resolution(quality(uncached(streams),'Bluray REMUX'),'Unknown'), 5), slice(resolution(quality(uncached(streams),'Bluray'),'2160p','1440p'), 5), slice(resolution(quality(uncached(streams),'Bluray'),'1080p'), 5), slice(resolution(quality(uncached(streams),'Bluray'),'720p'), 5), slice(resolution(quality(uncached(streams),'Bluray'),'576p','480p'), 5), slice(resolution(quality(uncached(streams),'Bluray'),'Unknown'), 5), slice(resolution(quality(uncached(streams),'WEB-DL'),'2160p','1440p'), 5), slice(resolution(quality(uncached(streams),'WEB-DL'),'1080p'), 5), slice(resolution(quality(uncached(streams),'WEB-DL'),'720p'), 5), slice(resolution(quality(uncached(streams),'WEB-DL'),'576p','480p','360p'), 5), slice(resolution(quality(uncached(streams),'WEB-DL'),'Unknown'), 5), slice(resolution(quality(uncached(streams),'WEBRip'),'2160p','1440p'), 5), slice(resolution(quality(uncached(streams),'WEBRip'),'1080p'), 5), slice(resolution(quality(uncached(streams),'WEBRip'),'720p'), 5), slice(resolution(quality(uncached(streams),'WEBRip'),'576p','480p','360p'), 5), slice(resolution(quality(uncached(streams),'WEBRip'),'Unknown'), 5), slice(resolution(quality(uncached(streams),'HDTV','HDRip','DVDRip','HC HD-Rip'),'2160p','1440p'), 5), slice(resolution(quality(uncached(streams),'HDTV','HDRip','DVDRip','HC HD-Rip'),'1080p'), 5), slice(resolution(quality(uncached(streams),'HDTV','HDRip','DVDRip','HC HD-Rip'),'720p'), 5), slice(resolution(quality(uncached(streams),'HDTV','HDRip','DVDRip','HC HD-Rip'),'576p','480p','360p'), 5), slice(resolution(quality(uncached(streams),'HDTV','HDRip','DVDRip','HC HD-Rip'),'Unknown'), 5), slice(resolution(quality(uncached(streams),'CAM','TS','TC','SCR'),'2160p','1440p'), 5), slice(resolution(quality(uncached(streams),'CAM','TS','TC','SCR'),'1080p'), 5), slice(resolution(quality(uncached(streams),'CAM','TS','TC','SCR'),'720p'), 5), slice(resolution(quality(uncached(streams),'CAM','TS','TC','SCR'),'576p','480p','360p'), 5), slice(resolution(quality(uncached(streams),'CAM','TS','TC','SCR'),'Unknown'), 5), slice(resolution(quality(uncached(streams),'Unknown'),'2160p','1440p'), 5), slice(resolution(quality(uncached(streams),'Unknown'),'1080p'), 5), slice(resolution(quality(uncached(streams),'Unknown'),'720p'), 5), slice(resolution(quality(uncached(streams),'Unknown'),'576p','480p','360p'), 5), slice(resolution(quality(uncached(streams),'Unknown'),'Unknown'), 5))",
      "/*Final (All)*/ merge(count(quality(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'Bluray REMUX','Bluray','WEB-DL','WEBRip')) >20? quality(negate(merge(library(streams), seadex(streams)),streams),'HDRip','HC HD-Rip','DVDRip','HDTV','CAM','TS','TC','SCR'):  count(quality(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'Bluray REMUX','Bluray','WEB-DL','WEBRip','HDRip','HC HD-Rip','DVDRip','HDTV')) >10? quality(streams,'CAM','TS','TC','SCR'):[],  count(resolution(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'2160p','1440p','1080p')) >25? negate(merge(library(streams), seadex(streams)), merge(type(uncached(streams),'debrid'), slice(resolution(merge(type(streams, 'usenet','http','p2p'), type(cached(streams), 'debrid')),'720p','576p','480p','360p','240p','144p','Unknown'),3))):  count(resolution(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'2160p','1440p','1080p')) >20? negate(merge(library(streams), seadex(streams)), merge(type(uncached(streams),'debrid'), slice(resolution(merge(type(streams, 'usenet','http','p2p'), type(cached(streams), 'debrid')),'720p','576p','480p','360p','240p','144p','Unknown'),6))):  count(resolution(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'2160p','1440p','1080p','720p')) >12? negate(merge(library(streams), seadex(streams)), merge(type(uncached(streams),'debrid'), resolution(merge(type(streams, 'usenet','http','p2p'), type(cached(streams), 'debrid')),'576p','480p','360p','240p','144p','Unknown'))):  count(resolution(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'2160p','1440p','1080p','720p')) >15? negate(merge(library(streams), seadex(streams)), merge(type(uncached(streams),'debrid'), slice(resolution(merge(type(streams, 'usenet','http','p2p'), type(cached(streams), 'debrid')),'576p','480p','360p','240p','144p','Unknown'),6))):  count(resolution(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'2160p','1440p','1080p','720p')) >10? negate(merge(library(streams), seadex(streams)), merge(type(uncached(streams),'debrid'), slice(resolution(merge(type(streams, 'usenet','http','p2p'), type(cached(streams), 'debrid')),'576p','480p','360p','240p','144p','Unknown'), -1))):  count(resolution(negate(merge(library(streams), seadex(streams)),merge(cached(streams),type(streams,'p2p','http'))),'2160p','1440p','1080p','720p')) >5? negate(merge(library(streams), seadex(streams)), merge(slice(type(uncached(streams),'debrid'), 6), slice(resolution(merge(type(streams, 'usenet','http','p2p'), type(cached(streams), 'debrid')),'576p','480p','360p','240p','144p','Unknown'), -1))):[])",
      "[]",
      "[]"
    ],
    "preferredStreamExpressions": [
      "/* Advanced Stream Type: This is how stream types are prioritized, used in Sort Order via Stream Expressions Matched */ []",
      "/*Tier 1 Cached*/ cached(merge(library(streams), seadex(streams), type(streams, 'debrid'), type(service(streams, 'torbox'), 'usenet'), message(type(streams,'usenet', 'stremio-usenet'),'includes','âœ…', 'ðŸ§')))",
      "/*Tier 2 Cached*/ cached(merge(service(streams, 'nzbdav', 'altmount', 'easynews'), type(streams, 'http', 'p2p', 'stremio-usenet')))",
      "/*Tier 3 Uncached*/ uncached(type(streams, 'usenet'))",
      "/*Tier 4 Uncached*/ uncached(type(streams, 'debrid'))"
    ],
    "includedStreamExpressions": [
      "/*SeaDex*/ merge(count(addon(cached(streams), 'SeaDex')) > 0 ? passthrough(addon(streams, 'SeaDex'), 'title', 'year') : passthrough(seadex(streams), 'title', 'year'), queryType == 'anime.movie' ? passthrough(seadex(streams), 'episode'): [])",
      "/*Library*/ merge(count(streams) == count(library(streams)) ? library(streams) : [], count(library(streams)) == 0 ? passthrough(library(streams), 'title', 'year') : [])",
      "/*digitalRelease*/ queryType == 'movie' or queryType == 'anime.movie' and daysSinceRelease <0 ? passthrough(quality(streams, 'CAM', 'TS', 'TC', 'SCR'), 'digitalRelease') : []",
      "/*0Cached*/ count(cached(streams)) == 0 ? passthrough(negate(type(streams, 'usenet','stremio-usenet'), (streams)), 'title') : []"
    ]
  }
}